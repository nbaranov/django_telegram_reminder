{% extends 'base.html' %}

{% block content %}
<h2>Reminders</h2>
<a href="{% url 'reminder_create' %}" class="btn btn-success mb-3">Add Reminder</a>

<table class="table table-striped">
    <thead>
        <tr>
            <th>ID</th>
            <th>Text</th>
            <th>Groups</th>
            <th>Due Time</th>
            <th>Completed</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for reminder in reminders %}
        <tr>
            <td>{{ reminder.id }}</td>
            <td>{{ reminder.text }}</td>
            <td>
                {% for group in reminder.groups.all %}
                    <span class="badge bg-info">{{ group.name }}</span>
                {% endfor %}
            </td>
            <td>{{ reminder.due_time }}</td>
            <td>
                {% if reminder.is_completed %}
                    <span class="badge bg-success">Yes</span>
                {% else %}
                    <span class="badge bg-warning">No</span>
                {% endif %}
            </td>
            <td>
                <a href="{% url 'reminder_update' reminder.pk %}" class="btn btn-sm btn-primary">Edit</a>
                <a href="{% url 'reminder_delete' reminder.pk %}" class="btn btn-sm btn-danger">Delete</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6">No reminders found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}